<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title></title>
	<script src="/socket.io/socket.io.js"></script>
		<link rel="stylesheet" href="./static/css/showdata.css">
	</head>
	<body>
		<div class="container">
			<div id="values" class="values">
				<input class="val" type="text" disabled value="rtmp://rtmp.livepeer.com/live/" />
				<input class="val" id='key' type="text" disabled value="streamKey" />
				<input class="val" id='url' type="text" disabled value="https://cdn.livepeer.com/hls/{playbackId}/index.m3u8" />		
				<div class="captureScreen" id="streamButton">
				<button onclick="startStream()">Start Stream</button>
			</div>
	
			</div>
		<div class="showStream" id="showStream">
			
		<div class="streamtitle">
			<h1>heading goes here</h1>
		</div>

	    <video id="camera--view" autoplay playsinline></video>
		<button onclick="screenShare()">Share Screen</button>
		
			</div>

		</div>

<!--		<div class="streamInfo">
			stream info that was removed
		</div>
-->
<script>
	const body=document.querySelector("body");
	const start=document.querySelector("#streamButton button");
	const container=document.querySelector(".container");
	const right=document.querySelector(".streamInfo");
	const bottom=document.querySelector(".streamtitle");

	start.addEventListener('click', function(){
//		body.classList.add("streaming");
		body.style.background="linear-gradient(45deg, rgb(96, 96, 255), rgb(170, 135, 235))"
//		right.style.display="flex"
		//bottom.style.display="flex"
	})

	window.onload=async function(){
		var data = await sessionStorage.getItem('streamData');
			if(data!=null){
					data=JSON.parse(data);
				document.getElementById('key').value=data.streamKey;
				document.getElementById('url').value=`https://cdn.livepeer.com/hls/${data.pId}/index.m3u8`;
				}else{
						location.href='/';
					}
		}

</script>

		<script src="static/js/showdata.js"></script>
	</body>
</html>
